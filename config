# Basic setup options.  If you are running as the postgres user and
# are using PostgreSQL 8.4 or later, you normally don't need to
# change any of these.

BASEDIR=`pwd`
PGBENCHBIN=`which pgbench`

# These values are for pgbench 8.4 and later
TESTDIR="tests"

# SKIPINIT should be set to 1 either when simulating a cold cache, or
# if you are not using the pgbench tables for your test
SKIPINIT=0

# SKIPREPORT should be set to 1 when html report generation at the end of each
# set run is not required.  You can always directly run ./webreport some time
# later, perhaps on an entirely different machine that only has access to the
# results database.
SKIPREPORT=0

# TPS interpolated spline weight for per-test TPS breakdown.  It can sometimes
# be useful to set this as low as 0.1, to better visualize highly noisey TPS
# graphs.  (Note that this can be tweaked iteratively, by running ./webreport
# repeatedly)
TPS_WEIGHT=1.0

# Set TABBED to 0 to use traditional report format (not Javascript for a
# multi-tabbed display)
TABBED=1

# Set OSDATA to 1 to collect OS data using dstat.  There is a tacit assumption
# that this is set consistently across test sets (i.e. for an entire benchmark)
OSDATA=1

# Test/result database connection
TESTHOST=localhost
TESTUSER=`whoami`
TESTPORT=5432
TESTDB=pgbench

RESULTHOST="$TESTHOST"
RESULTUSER="$TESTUSER"
RESULTPORT="$TESTPORT"
RESULTDB=results

#
# Main test run customization
#

# Set this to a number only when using pgbench 9.0 or later.  This will set
# the number of worker threads up to this maximum for each client count
MAX_WORKERS=`nproc`

SCRIPT="tpc-b.sql"
SCALES="10"
SETCLIENTS="8 16 32"
SETTIMES=3

# RUNTIME is in seconds.  If it is specified, then TOTTRANS is ignored.
# Setting a time instead of a transaction account is only available
# in 8.4 and later.
RUNTIME=45
TOTTRANS=""

# A transaction count may be used instead
#RUNTIME=""
#TOTTRANS=100000

# Starting in the 9.4 pgbench, you can limit the maximum rate.
# This takes a list like scale and clients
SETRATES=""
